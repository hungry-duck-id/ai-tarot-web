(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{92:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(8410)}])},376:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return n}}),r(8811).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2403:(e,t,r)=>{"use strict";r.d(t,{$h:()=>u,DO:()=>o,a3:()=>a});let n=parseInt("104786962");function u(){var e,t;n&&(!function(e,t,r,n,u){e[u]=e[u]||function(){(e[u].a=e[u].a||[]).push(arguments)},e[u].l=+new Date().getTime();for(var o=0;o<t.scripts.length;o++)if(t.scripts[o].src===n)return;let a=t.createElement(r),l=t.getElementsByTagName(r)[0];a.async=1,a.src=n,l.parentNode.insertBefore(a,l)}(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),null==(e=(t=window).ym)||e.call(t,n,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0}))}function o(e){window.ym&&n&&window.ym(n,"hit",e)}function a(e){window.ym&&n&&window.ym(n,"reachGoal",e)}},3817:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{UnrecognizedActionError:function(){return r},unstable_isUnrecognizedActionError:function(){return n}});class r extends Error{constructor(...e){super(...e),this.name="UnrecognizedActionError"}}function n(e){return!!(e&&"object"==typeof e&&e instanceof r)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3893:(e,t,r)=>{"use strict";r.d(t,{M:()=>a,o:()=>l});var n=r(7876),u=r(4232);let o=(0,u.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,u.useState)({selectedCategory:null,userQuestion:"",selectedCards:[],currentScreen:1,sessionId:crypto.randomUUID(),startedAt:Date.now()}),l=(0,u.useCallback)(e=>{a(t=>({...t,selectedCategory:e}))},[]),i=(0,u.useCallback)(e=>{a(t=>({...t,userQuestion:e}))},[]),c=(0,u.useCallback)(e=>{a(t=>t.selectedCards.length<3&&!t.selectedCards.includes(e)?{...t,selectedCards:[...t.selectedCards,e]}:t)},[]),d=(0,u.useCallback)(e=>{a(t=>({...t,selectedCards:t.selectedCards.filter(t=>t!==e)}))},[]),s=(0,u.useCallback)(()=>{a(e=>({...e,selectedCards:[]}))},[]),f=(0,u.useCallback)(e=>{a(t=>({...t,currentScreen:e}))},[]),b=(0,u.useCallback)(()=>{a({selectedCategory:null,userQuestion:"",selectedCards:[],currentScreen:1,sessionId:crypto.randomUUID(),startedAt:Date.now()})},[]);return(0,n.jsx)(o.Provider,{value:{state:r,setCategory:l,setQuestion:i,addCard:c,removeCard:d,clearCards:s,setCurrentScreen:f,resetSession:b},children:t})}function l(){let e=(0,u.useContext)(o);if(!e)throw Error("useFunnel must be used within FunnelProvider");return e}},4e3:(e,t,r)=>{e.exports=r(5092)},4159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ServerInsertedHTMLContext:function(){return u},useServerInsertedHTML:function(){return o}});let n=r(8365)._(r(4232)),u=n.default.createContext(null);function o(e){let t=(0,n.useContext)(u);t&&t(e)}},4318:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,u.isNextRouterError)(t)||(0,n.isBailoutToCSRError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=r(4058),u=r(497);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4673:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_9b50e8",variable:"__variable_9b50e8"}},5022:(e,t,r)=>{"use strict";r.d(t,{W9:()=>o,q_:()=>a,rn:()=>u});let n="2884251085117444";function u(){var e,t,r,u,o,a,l,i,c;n&&(o=window,a=document,o.fbq||(l=o.fbq=function(){l.callMethod?l.callMethod.apply(l,arguments):l.queue.push(arguments)},o._fbq||(o._fbq=l),l.push=l,l.loaded=!0,l.version="2.0",l.queue=[],(i=a.createElement("script")).async=!0,i.src="https://connect.facebook.net/en_US/fbevents.js",(c=a.getElementsByTagName("script")[0]).parentNode.insertBefore(i,c)),null==(e=(t=window).fbq)||e.call(t,"init",n),null==(r=(u=window).fbq)||r.call(u,"track","PageView"))}function o(){window.fbq&&window.fbq("track","PageView")}function a(){window.fbq&&window.fbq("track","Subscribe")}},5026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return a},getRedirectStatusCodeFromError:function(){return s},getRedirectTypeFromError:function(){return d},getURLFromRedirectError:function(){return c},permanentRedirect:function(){return i},redirect:function(){return l}});let n=r(6843),u=r(1481),o=void 0;function a(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let o=Object.defineProperty(Error(u.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return o.digest=u.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",o}function l(e,t){var r;throw null!=t||(t=(null==o||null==(r=o.getStore())?void 0:r.isAction)?u.RedirectType.push:u.RedirectType.replace),a(e,t,n.RedirectStatusCode.TemporaryRedirect)}function i(e,t){throw void 0===t&&(t=u.RedirectType.replace),a(e,t,n.RedirectStatusCode.PermanentRedirect)}function c(e){return(0,u.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function d(e){if(!(0,u.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function s(e){if(!(0,u.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return i.ReadonlyURLSearchParams},RedirectType:function(){return i.RedirectType},ServerInsertedHTMLContext:function(){return c.ServerInsertedHTMLContext},forbidden:function(){return i.forbidden},notFound:function(){return i.notFound},permanentRedirect:function(){return i.permanentRedirect},redirect:function(){return i.redirect},unauthorized:function(){return i.unauthorized},unstable_isUnrecognizedActionError:function(){return d.unstable_isUnrecognizedActionError},unstable_rethrow:function(){return i.unstable_rethrow},useParams:function(){return p},usePathname:function(){return b},useRouter:function(){return _},useSearchParams:function(){return f},useSelectedLayoutSegment:function(){return m},useSelectedLayoutSegments:function(){return y},useServerInsertedHTML:function(){return c.useServerInsertedHTML}});let n=r(4232),u=r(5792),o=r(8797),a=r(7601),l=r(1744),i=r(9591),c=r(4159),d=r(3817),s=void 0;function f(){let e=(0,n.useContext)(o.SearchParamsContext);return(0,n.useMemo)(()=>e?new i.ReadonlyURLSearchParams(e):null,[e])}function b(){return null==s||s("usePathname()"),(0,n.useContext)(o.PathnameContext)}function _(){let e=(0,n.useContext)(u.AppRouterContext);if(null===e)throw Object.defineProperty(Error("invariant expected app router to be mounted"),"__NEXT_ERROR_CODE",{value:"E238",enumerable:!1,configurable:!0});return e}function p(){return null==s||s("useParams()"),(0,n.useContext)(o.PathParamsContext)}function y(e){void 0===e&&(e="children"),null==s||s("useSelectedLayoutSegments()");let t=(0,n.useContext)(u.LayoutRouterContext);return t?function e(t,r,n,u){let o;if(void 0===n&&(n=!0),void 0===u&&(u=[]),n)o=t[1][r];else{var i;let e=t[1];o=null!=(i=e.children)?i:Object.values(e)[0]}if(!o)return u;let c=o[0],d=(0,a.getSegmentValue)(c);return!d||d.startsWith(l.PAGE_SEGMENT_KEY)?u:(u.push(d),e(o,r,!1,u))}(t.parentTree,e):null}function m(e){void 0===e&&(e="children"),null==s||s("useSelectedLayoutSegment()");let t=y(e);if(!t||0===t.length)return null;let r="children"===e?t[0]:t[t.length-1];return r===l.DEFAULT_SEGMENT_KEY?null:r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5379:()=>{},7601:(e,t)=>{"use strict";function r(e){return Array.isArray(e)?e[1]:e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentValue",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8194:e=>{e.exports={style:{fontFamily:"'Playfair Display', 'Playfair Display Fallback'",fontStyle:"normal"},className:"__className_bb2be9",variable:"__variable_bb2be9"}},8410:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(7876),u=r(4673),o=r.n(u),a=r(8194),l=r.n(a);r(5379);var i=r(3893);function c(){let{state:e}=(0,i.o)(),t=e.currentScreen<=9?e.currentScreen/9*100:100;return(0,n.jsx)("div",{className:"fixed top-0 left-0 right-0 h-1 bg-gray-800 z-50",children:(0,n.jsx)("div",{className:"h-full bg-mystic-gradient transition-all duration-300 ease-out",style:{width:"".concat(t,"%")}})})}var d=r(4232),s=r(4e3),f=r(2403),b=r(5022);function _(){let e=(0,s.usePathname)(),{setCurrentScreen:t}=(0,i.o)(),[r,n]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{r||((0,b.rn)(),(0,f.$h)(),n(!0))},[r]),(0,d.useEffect)(()=>{t({"/":1,"/focus":2,"/question":3,"/deck":4,"/shuffling":5,"/how-it-works":6,"/choose-cards":7,"/reading-ready":8,"/unlock":9,"/error":10}[e]||1);try{(0,f.DO)(e),(0,b.W9)()}catch(e){console.error("Analytics tracking error:",e)}},[e,t]),null}function p(e){let{Component:t,pageProps:r}=e;return(0,n.jsx)("div",{className:"".concat(o().variable," ").concat(l().variable),children:(0,n.jsx)("div",{className:"".concat(o().className," bg-gray-900 min-h-screen"),children:(0,n.jsxs)(i.M,{children:[(0,n.jsx)(c,{}),(0,n.jsx)(_,{}),(0,n.jsx)(t,{...r})]})})})}},8444:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return n}});let n=r(4318).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9122:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return u}});let n=""+r(8811).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function u(){let e=Object.defineProperty(Error(n),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=n,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9331:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return n}}),r(8811).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return d},RedirectType:function(){return u.RedirectType},forbidden:function(){return a.forbidden},notFound:function(){return o.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unauthorized:function(){return l.unauthorized},unstable_isUnrecognizedActionError:function(){return s},unstable_rethrow:function(){return i.unstable_rethrow}});let n=r(5026),u=r(1481),o=r(9122),a=r(9331),l=r(376),i=r(8444);class c extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class d extends URLSearchParams{append(){throw new c}delete(){throw new c}set(){throw new c}sort(){throw new c}}function s(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}},e=>{var t=t=>e(e.s=t);e.O(0,[593,792],()=>(t(92),t(6296))),_N_E=e.O()}]);